import{_ as ve,u as be,b as Ce,c as R,d as J,f as K,C as ce,g as ue,o as xe,h as z,F as ye,D as Ve,i as O,a as p}from"./theme-5e7aac00.js";import{r}from"./index-32a56c20.js";import{_ as _e}from"./extends-b84940d4.js";import"./_commonjsHelpers-042e6b4d.js";import"./v4-a960c1f4.js";var ke=["prefixCls","className","style","checked","disabled","defaultChecked","type","onChange"],Se=r.forwardRef(function(e,i){var s,t=e.prefixCls,n=t===void 0?"rc-checkbox":t,D=e.className,v=e.style,V=e.checked,b=e.disabled,m=e.defaultChecked,d=m===void 0?!1:m,C=e.type,_=C===void 0?"checkbox":C,l=e.onChange,k=ve(e,ke),g=r.useRef(null),a=be(d,{value:V}),x=Ce(a,2),S=x[0],E=x[1];r.useImperativeHandle(i,function(){return{focus:function(){var c;(c=g.current)===null||c===void 0||c.focus()},blur:function(){var c;(c=g.current)===null||c===void 0||c.blur()},input:g.current}});var y=R(n,D,(s={},J(s,"".concat(n,"-checked"),S),J(s,"".concat(n,"-disabled"),b),s)),u=function(c){b||("checked"in e||E(c.target.checked),l==null||l({target:K(K({},e),{},{type:_,checked:c.target.checked}),stopPropagation:function(){c.stopPropagation()},preventDefault:function(){c.preventDefault()},nativeEvent:c.nativeEvent}))};return r.createElement("span",{className:y,style:v},r.createElement("input",_e({},k,{className:"".concat(n,"-input"),ref:g,onChange:u,disabled:b,checked:!!S,type:_})),r.createElement("span",{className:"".concat(n,"-inner")}))}),Ee=globalThis&&globalThis.__rest||function(e,i){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&i.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)i.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(s[t[n]]=e[t[n]]);return s};const de=r.createContext(null),we=(e,i)=>{var{defaultValue:s,children:t,options:n=[],prefixCls:D,className:v,rootClassName:V,style:b,onChange:m}=e,d=Ee(e,["defaultValue","children","options","prefixCls","className","rootClassName","style","onChange"]);const{getPrefixCls:C,direction:_}=r.useContext(ce),[l,k]=r.useState(d.value||s||[]),[g,a]=r.useState([]);r.useEffect(()=>{"value"in d&&k(d.value||[])},[d.value]);const x=()=>n.map(o=>typeof o=="string"||typeof o=="number"?{label:o,value:o}:o),S=o=>{a(w=>w.filter(H=>H!==o))},E=o=>{a(w=>[].concat(z(w),[o]))},y=o=>{const w=l.indexOf(o.value),H=z(l);w===-1?H.push(o.value):H.splice(w,1),"value"in d||k(H);const U=x();m==null||m(H.filter(A=>g.includes(A)).sort((A,me)=>{const ge=U.findIndex(W=>W.value===A),he=U.findIndex(W=>W.value===me);return ge-he}))},u=C("checkbox",D),h=`${u}-group`,[c,f]=ue(u),G=xe(d,["value","disabled"]);n&&n.length>0&&(t=x().map(o=>r.createElement(pe,{prefixCls:u,key:o.value.toString(),disabled:"disabled"in o?o.disabled:d.disabled,value:o.value,checked:l.includes(o.value),onChange:o.onChange,className:`${h}-item`,style:o.style},o.label)));const I={toggleOption:y,value:l,disabled:d.disabled,name:d.name,registerValue:E,cancelValue:S},j=R(h,{[`${h}-rtl`]:_==="rtl"},v,V,f);return c(r.createElement("div",Object.assign({className:j,style:b},G,{ref:i}),r.createElement(de.Provider,{value:I},t)))},He=r.forwardRef(we),Oe=r.memo(He);var De=globalThis&&globalThis.__rest||function(e,i){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&i.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)i.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(s[t[n]]=e[t[n]]);return s};const $e=(e,i)=>{var s,{prefixCls:t,className:n,rootClassName:D,children:v,indeterminate:V=!1,style:b,onMouseEnter:m,onMouseLeave:d,skipGroup:C=!1,disabled:_}=e,l=De(e,["prefixCls","className","rootClassName","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]);const{getPrefixCls:k,direction:g}=r.useContext(ce),a=r.useContext(de),{isFormItemInput:x}=r.useContext(ye),S=r.useContext(Ve),E=(s=(a==null?void 0:a.disabled)||_)!==null&&s!==void 0?s:S,y=r.useRef(l.value);r.useEffect(()=>{a==null||a.registerValue(l.value)},[]),r.useEffect(()=>{if(!C)return l.value!==y.current&&(a==null||a.cancelValue(y.current),a==null||a.registerValue(l.value),y.current=l.value),()=>a==null?void 0:a.cancelValue(l.value)},[l.value]);const u=k("checkbox",t),[h,c]=ue(u),f=Object.assign({},l);a&&!C&&(f.onChange=function(){l.onChange&&l.onChange.apply(l,arguments),a.toggleOption&&a.toggleOption({label:v,value:l.value})},f.name=a.name,f.checked=a.value.includes(l.value));const G=R({[`${u}-wrapper`]:!0,[`${u}-rtl`]:g==="rtl",[`${u}-wrapper-checked`]:f.checked,[`${u}-wrapper-disabled`]:E,[`${u}-wrapper-in-form-item`]:x},n,D,c),I=R({[`${u}-indeterminate`]:V},c),j=V?"mixed":void 0;return h(r.createElement("label",{className:G,style:b,onMouseEnter:m,onMouseLeave:d},r.createElement(Se,Object.assign({"aria-checked":j},f,{prefixCls:u,className:I,disabled:E,ref:i})),v!==void 0&&r.createElement("span",null,v)))},Pe=r.forwardRef($e),pe=Pe,F=pe;F.Group=Oe;F.__ANT_CHECKBOX=!0;const Le=F,M={hitPolicy:"first",inputs:[{id:"HVo_JpALi8",type:"expression",field:"cart.weight",name:"Cart Weight (Kg)"},{id:"HW6mSVfLbs",type:"expression",field:"customer.country",name:"Customer Country"}],outputs:[{field:"shippingFee",id:"3EGDrV0ssV",name:"Shipping Fee",type:"expression"}],rules:[{_id:"qMpJEvcau6",_description:"If weight is above 40kg and country is US, fee is 40",HVo_JpALi8:"> 40",HW6mSVfLbs:'"US"',"3EGDrV0ssV":"40"},{_id:"KC6KqcWiOX",_description:"If weight is above 40kg and any other country, fee is 50",HVo_JpALi8:"> 40",HW6mSVfLbs:"","3EGDrV0ssV":"50"},{_id:"k-zEFSTe7b",_description:"if weight is between 20 and 40kg and country US, fee is 30",HVo_JpALi8:"[20..40]",HW6mSVfLbs:'"US"',"3EGDrV0ssV":"30"},{_id:"c_8VkmGZ_C",_description:"if weight is between 20 and 40kg and any other country, fee is 32",HVo_JpALi8:"[20..40]",HW6mSVfLbs:"","3EGDrV0ssV":"32"},{_id:"e_MyQeTS3V",_description:"if weight is bellow 20kg and country US, fee is 25",HVo_JpALi8:"< 20",HW6mSVfLbs:'"US"',"3EGDrV0ssV":"25"},{_id:"_iU8FNLxHb",_description:"if weight is bellow 20kg, fee is 30",HVo_JpALi8:"< 20",HW6mSVfLbs:"","3EGDrV0ssV":"30"}]},Ne=[{field:"cart",name:"Cart",items:[{field:"cart.total",name:"Total"},{field:"cart.weight",name:"Weight"}]},{field:"customer",name:"Customer",items:[{field:"customer.country",name:"Country"}]}],fe=[];for(let e=1e4;e>0;e--)fe.push({_id:`${e}`,_description:`${e} description`,HVo_JpALi8:`> ${e}`,HW6mSVfLbs:'"US"',"3EGDrV0ssV":`${e}`});const Ae={title:"Decision Table",component:O,argTypes:{configurable:{control:"boolean"},disabled:{control:"boolean"},cellRenderer:{control:!1}},args:{inputsSchema:Ne,configurable:!0,disabled:!1}},$={render:e=>p("div",{children:p(O,{defaultValue:M,...e,tableHeight:"500px"})})},P={render:e=>{const[i,s]=r.useState(M);return p("div",{children:p(O,{...e,tableHeight:"500px",value:i,onChange:t=>s(t)})})}},L={render:e=>p("div",{children:p(O,{...e,tableHeight:"500px"})})},N={render:e=>p("div",{children:p(O,{...e,tableHeight:"500px",cellRenderer:i=>{var s;return((s=i==null?void 0:i.column)==null?void 0:s.field)==="output"?p("div",{style:{paddingLeft:"1rem"},children:p(Le,{checked:i.value==="true",onChange:t=>{var n;i.onChange(`${(n=t==null?void 0:t.target)==null?void 0:n.checked}`)},children:"Enabled"})}):null}})})},T={render:e=>p("div",{children:p(O,{...e,tableHeight:"500px",defaultValue:{...M,rules:fe}})})};var q,B,X;$.parameters={...$.parameters,docs:{...(q=$.parameters)==null?void 0:q.docs,source:{originalSource:`{
  render: args => {
    return <div>
        <DecisionTable defaultValue={shippingFeesDefault} {...args} tableHeight='500px' />
      </div>;
  }
}`,...(X=(B=$.parameters)==null?void 0:B.docs)==null?void 0:X.source}}};var Q,Z,Y;P.parameters={...P.parameters,docs:{...(Q=P.parameters)==null?void 0:Q.docs,source:{originalSource:`{
  render: args => {
    const [value, setValue] = useState<DecisionTableProps>(shippingFeesDefault);
    return <div>
        <DecisionTable {...args} tableHeight='500px' value={value} onChange={val => setValue(val)} />
      </div>;
  }
}`,...(Y=(Z=P.parameters)==null?void 0:Z.docs)==null?void 0:Y.source}}};var ee,te,ne;L.parameters={...L.parameters,docs:{...(ee=L.parameters)==null?void 0:ee.docs,source:{originalSource:`{
  render: args => <div>
      <DecisionTable {...args} tableHeight='500px' />
    </div>
}`,...(ne=(te=L.parameters)==null?void 0:te.docs)==null?void 0:ne.source}}};var re,ae,se;N.parameters={...N.parameters,docs:{...(re=N.parameters)==null?void 0:re.docs,source:{originalSource:`{
  render: args => <div>
      <DecisionTable {...args} tableHeight='500px' cellRenderer={props => {
      if (props?.column?.field === 'output') {
        return <div style={{
          paddingLeft: '1rem'
        }}>
                <Checkbox checked={props.value === 'true'} onChange={e => {
            props.onChange(\`\${e?.target?.checked}\`);
          }}>
                  Enabled
                </Checkbox>
              </div>;
      }
      return null;
    }} />
    </div>
}`,...(se=(ae=N.parameters)==null?void 0:ae.docs)==null?void 0:se.source}}};var le,oe,ie;T.parameters={...T.parameters,docs:{...(le=T.parameters)==null?void 0:le.docs,source:{originalSource:`{
  render: args => <div>
      <DecisionTable {...args} tableHeight='500px' defaultValue={{
      ...shippingFeesDefault,
      rules: stressRules
    }} />
    </div>
}`,...(ie=(oe=T.parameters)==null?void 0:oe.docs)==null?void 0:ie.source}}};const We=["Uncontrolled","Controlled","Empty","CustomRenderer","StressTest"];export{P as Controlled,N as CustomRenderer,L as Empty,T as StressTest,$ as Uncontrolled,We as __namedExportsOrder,Ae as default};
//# sourceMappingURL=dt.stories-7dcba9fc.js.map
