import{_ as re}from"./assertThisInitialized-B7W8eO4F.js";import{r as c,g as Ye,R as ar}from"./index-Dl6G-zuu.js";import{A as ne,d as cr,$ as ur,C as ge,a0 as lr,c as he,F as ue,g as fr,m as dr,a1 as gr,a2 as hr,a3 as pe,w as pr,e as vr,M as _t,a4 as mr,s as it,f as yr,a5 as Sr,o as Or,x as xt,J as Dr,h as st,a6 as Cr,j as Er}from"./index-C-UwI2HO.js";import{B as Rt,c as Tr}from"./button-DoK4wRRk.js";var br={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"};const wr=br;var Ir=function(e,r){return c.createElement(ne,re({},e,{ref:r,icon:wr}))},Pr=c.forwardRef(Ir);const gs=Pr;var _r=`accept acceptCharset accessKey action allowFullScreen allowTransparency
    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge
    charSet checked classID className colSpan cols content contentEditable contextMenu
    controls coords crossOrigin data dateTime default defer dir disabled download draggable
    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder
    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity
    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media
    mediaGroup method min minLength multiple muted name noValidate nonce open
    optimum pattern placeholder poster preload radioGroup readOnly rel required
    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected
    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style
    summary tabIndex target title type useMap value width wmode wrap`,xr=`onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown
    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick
    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown
    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel
    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough
    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata
    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError`,Rr="".concat(_r," ").concat(xr).split(/[\s\n]+/),Nr="aria-",Mr="data-";function at(t,e){return t.indexOf(e)===0}function Ar(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r;e===!1?r={aria:!0,data:!0,attr:!0}:e===!0?r={aria:!0}:r=cr({},e);var n={};return Object.keys(t).forEach(function(o){(r.aria&&(o==="role"||at(o,Nr))||r.data&&at(o,Mr)||r.attr&&Rr.includes(o))&&(n[o]=t[o])}),n}function ct(t){return!!(t&&t.then)}const Lr=t=>{const{type:e,children:r,prefixCls:n,buttonProps:o,close:i,autoFocus:s,emitEvent:a,isSilent:u,quitOnNullishReturnValue:f,actionFn:d}=t,p=c.useRef(!1),h=c.useRef(null),[l,S]=ur(!1),m=function(){i==null||i.apply(void 0,arguments)};c.useEffect(()=>{let D=null;return s&&(D=setTimeout(()=>{var C;(C=h.current)===null||C===void 0||C.focus()})),()=>{D&&clearTimeout(D)}},[]);const O=D=>{ct(D)&&(S(!0),D.then(function(){S(!1,!0),m.apply(void 0,arguments),p.current=!1},C=>{if(S(!1,!0),p.current=!1,!(u!=null&&u()))return Promise.reject(C)}))},T=D=>{if(p.current)return;if(p.current=!0,!d){m();return}let C;if(a){if(C=d(D),f&&!ct(C)){p.current=!1,m(D);return}}else if(d.length)C=d(i),p.current=!1;else if(C=d(),!C){m();return}O(C)};return c.createElement(Rt,Object.assign({},Tr(e),{onClick:T,loading:l,prefixCls:n},o,{ref:h}),r)},hs=Lr;var jr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"};const kr=jr;var zr=function(e,r){return c.createElement(ne,re({},e,{ref:r,icon:kr}))},$r=c.forwardRef(zr);const Fr=$r;var Hr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"};const Ur=Hr;var qr=function(e,r){return c.createElement(ne,re({},e,{ref:r,icon:Ur}))},Br=c.forwardRef(qr);const ps=Br,Vr=t=>{const{getPrefixCls:e,direction:r}=c.useContext(ge),{prefixCls:n,className:o}=t,i=e("input-group",n),s=e("input"),[a,u]=lr(s),f=he(i,{[`${i}-lg`]:t.size==="large",[`${i}-sm`]:t.size==="small",[`${i}-compact`]:t.compact,[`${i}-rtl`]:r==="rtl"},u,o),d=c.useContext(ue),p=c.useMemo(()=>Object.assign(Object.assign({},d),{isFormItemInput:!1}),[d]);return a(c.createElement("span",{className:f,style:t.style,onMouseEnter:t.onMouseEnter,onMouseLeave:t.onMouseLeave,onFocus:t.onFocus,onBlur:t.onBlur},c.createElement(ue.Provider,{value:p},t.children)))},Gr=Vr,Wr=t=>{const{componentCls:e,paddingXS:r}=t;return{[`${e}`]:{display:"inline-flex",alignItems:"center",flexWrap:"nowrap",columnGap:r,"&-rtl":{direction:"rtl"},[`${e}-input`]:{textAlign:"center",paddingInline:t.paddingXXS},[`&${e}-sm ${e}-input`]:{paddingInline:t.calc(t.paddingXXS).div(2).equal()},[`&${e}-lg ${e}-input`]:{paddingInline:t.paddingXS}}}},Xr=fr(["Input","OTP"],t=>{const e=dr(t,gr(t));return[Wr(e)]},hr);var Yr=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]]);return r};const Kr=c.forwardRef((t,e)=>{const{value:r,onChange:n,onActiveChange:o,index:i}=t,s=Yr(t,["value","onChange","onActiveChange","index"]),a=h=>{n(i,h.target.value)},u=c.useRef(null);c.useImperativeHandle(e,()=>u.current);const f=()=>{pr(()=>{var h;const l=(h=u.current)===null||h===void 0?void 0:h.input;document.activeElement===l&&l&&l.select()})},d=h=>{let{key:l}=h;l==="ArrowLeft"?o(i-1):l==="ArrowRight"&&o(i+1),f()},p=h=>{h.key==="Backspace"&&!r&&o(i-1),f()};return c.createElement(pe,Object.assign({},s,{ref:u,value:r,onInput:a,onFocus:f,onKeyDown:d,onKeyUp:p,onMouseDown:f,onMouseUp:f}))}),Qr=Kr;var Jr=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]]);return r};function se(t){return(t||"").split("")}const Zr=c.forwardRef((t,e)=>{const{prefixCls:r,length:n=6,size:o,defaultValue:i,value:s,onChange:a,formatter:u,variant:f,disabled:d,status:p,autoFocus:h}=t,l=Jr(t,["prefixCls","length","size","defaultValue","value","onChange","formatter","variant","disabled","status","autoFocus"]),{getPrefixCls:S,direction:m}=c.useContext(ge),O=S("otp",r),T=Ar(l,{aria:!0,data:!0,attr:!0}),D=vr(O),[C,A,j]=Xr(O,D),w=_t(g=>o??g),I=c.useContext(ue),L=mr(I.status,p),z=c.useMemo(()=>Object.assign(Object.assign({},I),{status:L,hasFeedback:!1,feedbackIcon:null}),[I,L]),$=c.useRef(null),N=c.useRef({});c.useImperativeHandle(e,()=>({focus:()=>{var g;(g=N.current[0])===null||g===void 0||g.focus()},blur:()=>{var g;for(let y=0;y<n;y+=1)(g=N.current[y])===null||g===void 0||g.blur()},nativeElement:$.current}));const oe=g=>u?u(g):g,[V,F]=c.useState(se(oe(i||"")));c.useEffect(()=>{s!==void 0&&F(se(s))},[s]);const k=it(g=>{F(g),a&&g.length===n&&g.every(y=>y)&&g.some((y,E)=>V[E]!==y)&&a(g.join(""))}),ie=it((g,y)=>{let E=yr(V);for(let b=0;b<g;b+=1)E[b]||(E[b]="");y.length<=1?E[g]=y:E=E.slice(0,g).concat(se(y)),E=E.slice(0,n);for(let b=E.length-1;b>=0&&!E[b];b-=1)E.pop();const J=oe(E.map(b=>b||" ").join(""));return E=se(J).map((b,ot)=>b===" "&&!E[ot]?E[ot]:b),E}),we=(g,y)=>{var E;const J=ie(g,y),b=Math.min(g+y.length,n-1);b!==g&&((E=N.current[b])===null||E===void 0||E.focus()),k(J)},Ie=g=>{var y;(y=N.current[g])===null||y===void 0||y.focus()},Pe={variant:f,disabled:d,status:L};return C(c.createElement("div",Object.assign({},T,{ref:$,className:he(O,{[`${O}-sm`]:w==="small",[`${O}-lg`]:w==="large",[`${O}-rtl`]:m==="rtl"},j,A)}),c.createElement(ue.Provider,{value:z},new Array(n).fill(0).map((g,y)=>{const E=`otp-${y}`,J=V[y]||"";return c.createElement(Qr,Object.assign({ref:b=>{N.current[y]=b},key:E,index:y,size:w,htmlSize:1,className:`${O}-input`,onChange:we,value:J,onActiveChange:Ie,autoFocus:y===0&&h},Pe))}))))}),en=Zr;var tn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"};const rn=tn;var nn=function(e,r){return c.createElement(ne,re({},e,{ref:r,icon:rn}))},on=c.forwardRef(nn);const sn=on;var an={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"};const cn=an;var un=function(e,r){return c.createElement(ne,re({},e,{ref:r,icon:cn}))},ln=c.forwardRef(un);const fn=ln;var dn=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]]);return r};const gn=t=>t?c.createElement(fn,null):c.createElement(sn,null),hn={click:"onClick",hover:"onMouseOver"},pn=c.forwardRef((t,e)=>{const{visibilityToggle:r=!0}=t,n=typeof r=="object"&&r.visible!==void 0,[o,i]=c.useState(()=>n?r.visible:!1),s=c.useRef(null);c.useEffect(()=>{n&&i(r.visible)},[n,r]);const a=Sr(s),u=()=>{const{disabled:j}=t;j||(o&&a(),i(w=>{var I;const L=!w;return typeof r=="object"&&((I=r.onVisibleChange)===null||I===void 0||I.call(r,L)),L}))},f=j=>{const{action:w="click",iconRender:I=gn}=t,L=hn[w]||"",z=I(o),$={[L]:u,className:`${j}-icon`,key:"passwordIcon",onMouseDown:N=>{N.preventDefault()},onMouseUp:N=>{N.preventDefault()}};return c.cloneElement(c.isValidElement(z)?z:c.createElement("span",null,z),$)},{className:d,prefixCls:p,inputPrefixCls:h,size:l}=t,S=dn(t,["className","prefixCls","inputPrefixCls","size"]),{getPrefixCls:m}=c.useContext(ge),O=m("input",h),T=m("input-password",p),D=r&&f(T),C=he(T,d,{[`${T}-${l}`]:!!l}),A=Object.assign(Object.assign({},Or(S,["suffix","iconRender","visibilityToggle"])),{type:o?"text":"password",className:C,prefixCls:O,suffix:D});return l&&(A.size=l),c.createElement(pe,Object.assign({ref:xt(e,s)},A))}),vn=pn;var mn=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]]);return r};const yn=c.forwardRef((t,e)=>{const{prefixCls:r,inputPrefixCls:n,className:o,size:i,suffix:s,enterButton:a=!1,addonAfter:u,loading:f,disabled:d,onSearch:p,onChange:h,onCompositionStart:l,onCompositionEnd:S}=t,m=mn(t,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd"]),{getPrefixCls:O,direction:T}=c.useContext(ge),D=c.useRef(!1),C=O("input-search",r),A=O("input",n),{compactSize:j}=Dr(C,T),w=_t(g=>{var y;return(y=i??j)!==null&&y!==void 0?y:g}),I=c.useRef(null),L=g=>{g&&g.target&&g.type==="click"&&p&&p(g.target.value,g,{source:"clear"}),h&&h(g)},z=g=>{var y;document.activeElement===((y=I.current)===null||y===void 0?void 0:y.input)&&g.preventDefault()},$=g=>{var y,E;p&&p((E=(y=I.current)===null||y===void 0?void 0:y.input)===null||E===void 0?void 0:E.value,g,{source:"input"})},N=g=>{D.current||f||$(g)},oe=typeof a=="boolean"?c.createElement(Fr,null):null,V=`${C}-button`;let F;const k=a||{},ie=k.type&&k.type.__ANT_BUTTON===!0;ie||k.type==="button"?F=st(k,Object.assign({onMouseDown:z,onClick:g=>{var y,E;(E=(y=k==null?void 0:k.props)===null||y===void 0?void 0:y.onClick)===null||E===void 0||E.call(y,g),$(g)},key:"enterButton"},ie?{className:V,size:w}:{})):F=c.createElement(Rt,{className:V,type:a?"primary":void 0,size:w,disabled:d,key:"enterButton",onMouseDown:z,onClick:$,loading:f,icon:oe},a),u&&(F=[F,st(u,{key:"addonAfter"})]);const we=he(C,{[`${C}-rtl`]:T==="rtl",[`${C}-${w}`]:!!w,[`${C}-with-button`]:!!a},o),Ie=g=>{D.current=!0,l==null||l(g)},Pe=g=>{D.current=!1,S==null||S(g)};return c.createElement(pe,Object.assign({ref:xt(I,e),onPressEnter:N},m,{size:w,onCompositionStart:Ie,onCompositionEnd:Pe,prefixCls:A,addonAfter:F,suffix:s,onChange:L,className:we,disabled:d}))}),Sn=yn,K=pe;K.Group=Gr;K.Search=Sn;K.TextArea=Cr;K.Password=vn;K.OTP=en;const vs=K;var Nt={exports:{}},Mt={},At={exports:{}},Lt={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W=c;function On(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Dn=typeof Object.is=="function"?Object.is:On,Cn=W.useState,En=W.useEffect,Tn=W.useLayoutEffect,bn=W.useDebugValue;function wn(t,e){var r=e(),n=Cn({inst:{value:r,getSnapshot:e}}),o=n[0].inst,i=n[1];return Tn(function(){o.value=r,o.getSnapshot=e,_e(o)&&i({inst:o})},[t,r,e]),En(function(){return _e(o)&&i({inst:o}),t(function(){_e(o)&&i({inst:o})})},[t]),bn(r),r}function _e(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Dn(t,r)}catch{return!0}}function In(t,e){return e()}var Pn=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?In:wn;Lt.useSyncExternalStore=W.useSyncExternalStore!==void 0?W.useSyncExternalStore:Pn;At.exports=Lt;var _n=At.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ve=c,xn=_n;function Rn(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Nn=typeof Object.is=="function"?Object.is:Rn,Mn=xn.useSyncExternalStore,An=ve.useRef,Ln=ve.useEffect,jn=ve.useMemo,kn=ve.useDebugValue;Mt.useSyncExternalStoreWithSelector=function(t,e,r,n,o){var i=An(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=jn(function(){function u(l){if(!f){if(f=!0,d=l,l=n(l),o!==void 0&&s.hasValue){var S=s.value;if(o(S,l))return p=S}return p=l}if(S=p,Nn(d,l))return S;var m=n(l);return o!==void 0&&o(S,m)?S:(d=l,p=m)}var f=!1,d,p,h=r===void 0?null:r;return[function(){return u(e())},h===null?void 0:function(){return u(h())}]},[e,r,n,o]);var a=Mn(t,i[0],i[1]);return Ln(function(){s.hasValue=!0,s.value=a},[a]),kn(a),a};Nt.exports=Mt;var zn=Nt.exports;const $n=Ye(zn);var Fn={BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1,STORYBOOK:"true"};const ut=t=>{let e;const r=new Set,n=(d,p)=>{const h=typeof d=="function"?d(e):d;if(!Object.is(h,e)){const l=e;e=p??(typeof h!="object"||h===null)?h:Object.assign({},e,h),r.forEach(S=>S(e,l))}},o=()=>e,u={setState:n,getState:o,getInitialState:()=>f,subscribe:d=>(r.add(d),()=>r.delete(d)),destroy:()=>{(Fn?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},f=e=t(n,o,u);return u},Hn=t=>t?ut(t):ut;var Un=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,o,i;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(o=n;o--!==0;)if(!t(e[o],r[o]))return!1;return!0}if(e instanceof Map&&r instanceof Map){if(e.size!==r.size)return!1;for(o of e.entries())if(!r.has(o[0]))return!1;for(o of e.entries())if(!t(o[1],r.get(o[0])))return!1;return!0}if(e instanceof Set&&r instanceof Set){if(e.size!==r.size)return!1;for(o of e.entries())if(!r.has(o[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(r)){if(n=e.length,n!=r.length)return!1;for(o=n;o--!==0;)if(e[o]!==r[o])return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(r).length)return!1;for(o=n;o--!==0;)if(!Object.prototype.hasOwnProperty.call(r,i[o]))return!1;for(o=n;o--!==0;){var s=i[o];if(!(s==="_owner"&&e.$$typeof)&&!t(e[s],r[s]))return!1}return!0}return e!==e&&r!==r};const ms=Ye(Un);var jt=Symbol.for("immer-nothing"),lt=Symbol.for("immer-draftable"),P=Symbol.for("immer-state");function M(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var X=Object.getPrototypeOf;function Y(t){return!!t&&!!t[P]}function U(t){var e;return t?kt(t)||Array.isArray(t)||!!t[lt]||!!((e=t.constructor)!=null&&e[lt])||ye(t)||Se(t):!1}var qn=Object.prototype.constructor.toString();function kt(t){if(!t||typeof t!="object")return!1;const e=X(t);if(e===null)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===qn}function le(t,e){me(t)===0?Reflect.ownKeys(t).forEach(r=>{e(r,t[r],t)}):t.forEach((r,n)=>e(n,r,t))}function me(t){const e=t[P];return e?e.type_:Array.isArray(t)?1:ye(t)?2:Se(t)?3:0}function ze(t,e){return me(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function zt(t,e,r){const n=me(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function Bn(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function ye(t){return t instanceof Map}function Se(t){return t instanceof Set}function H(t){return t.copy_||t.base_}function $e(t,e){if(ye(t))return new Map(t);if(Se(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);if(!e&&kt(t))return X(t)?{...t}:Object.assign(Object.create(null),t);const r=Object.getOwnPropertyDescriptors(t);delete r[P];let n=Reflect.ownKeys(r);for(let o=0;o<n.length;o++){const i=n[o],s=r[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(r[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:t[i]})}return Object.create(X(t),r)}function Ke(t,e=!1){return Oe(t)||Y(t)||!U(t)||(me(t)>1&&(t.set=t.add=t.clear=t.delete=Vn),Object.freeze(t),e&&Object.entries(t).forEach(([r,n])=>Ke(n,!0))),t}function Vn(){M(2)}function Oe(t){return Object.isFrozen(t)}var Gn={};function q(t){const e=Gn[t];return e||M(0,t),e}var ee;function $t(){return ee}function Wn(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function ft(t,e){e&&(q("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Fe(t){He(t),t.drafts_.forEach(Xn),t.drafts_=null}function He(t){t===ee&&(ee=t.parent_)}function dt(t){return ee=Wn(ee,t)}function Xn(t){const e=t[P];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function gt(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[P].modified_&&(Fe(e),M(4)),U(t)&&(t=fe(e,t),e.parent_||de(e,t)),e.patches_&&q("Patches").generateReplacementPatches_(r[P].base_,t,e.patches_,e.inversePatches_)):t=fe(e,r,[]),Fe(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==jt?t:void 0}function fe(t,e,r){if(Oe(e))return e;const n=e[P];if(!n)return le(e,(o,i)=>ht(t,n,e,o,i,r)),e;if(n.scope_!==t)return e;if(!n.modified_)return de(t,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const o=n.copy_;let i=o,s=!1;n.type_===3&&(i=new Set(o),o.clear(),s=!0),le(i,(a,u)=>ht(t,n,o,a,u,r,s)),de(t,o,!1),r&&t.patches_&&q("Patches").generatePatches_(n,r,t.patches_,t.inversePatches_)}return n.copy_}function ht(t,e,r,n,o,i,s){if(Y(o)){const a=i&&e&&e.type_!==3&&!ze(e.assigned_,n)?i.concat(n):void 0,u=fe(t,o,a);if(zt(r,n,u),Y(u))t.canAutoFreeze_=!1;else return}else s&&r.add(o);if(U(o)&&!Oe(o)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;fe(t,o),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&de(t,o)}}function de(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Ke(e,r)}function Yn(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:$t(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=n,i=Qe;r&&(o=[n],i=te);const{revoke:s,proxy:a}=Proxy.revocable(o,i);return n.draft_=a,n.revoke_=s,a}var Qe={get(t,e){if(e===P)return t;const r=H(t);if(!ze(r,e))return Kn(t,r,e);const n=r[e];return t.finalized_||!U(n)?n:n===xe(t.base_,e)?(Re(t),t.copy_[e]=qe(n,t)):n},has(t,e){return e in H(t)},ownKeys(t){return Reflect.ownKeys(H(t))},set(t,e,r){const n=Ft(H(t),e);if(n!=null&&n.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const o=xe(H(t),e),i=o==null?void 0:o[P];if(i&&i.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(Bn(r,o)&&(r!==void 0||ze(t.base_,e)))return!0;Re(t),Ue(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return xe(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Re(t),Ue(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=H(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){M(11)},getPrototypeOf(t){return X(t.base_)},setPrototypeOf(){M(12)}},te={};le(Qe,(t,e)=>{te[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});te.deleteProperty=function(t,e){return te.set.call(this,t,e,void 0)};te.set=function(t,e,r){return Qe.set.call(this,t[0],e,r,t[0])};function xe(t,e){const r=t[P];return(r?H(r):t)[e]}function Kn(t,e,r){var o;const n=Ft(e,r);return n?"value"in n?n.value:(o=n.get)==null?void 0:o.call(t.draft_):void 0}function Ft(t,e){if(!(e in t))return;let r=X(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=X(r)}}function Ue(t){t.modified_||(t.modified_=!0,t.parent_&&Ue(t.parent_))}function Re(t){t.copy_||(t.copy_=$e(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Qn=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const i=r;r=e;const s=this;return function(u=i,...f){return s.produce(u,d=>r.call(this,d,...f))}}typeof r!="function"&&M(6),n!==void 0&&typeof n!="function"&&M(7);let o;if(U(e)){const i=dt(this),s=qe(e,void 0);let a=!0;try{o=r(s),a=!1}finally{a?Fe(i):He(i)}return ft(i,n),gt(o,i)}else if(!e||typeof e!="object"){if(o=r(e),o===void 0&&(o=e),o===jt&&(o=void 0),this.autoFreeze_&&Ke(o,!0),n){const i=[],s=[];q("Patches").generateReplacementPatches_(e,o,i,s),n(i,s)}return o}else M(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(s,...a)=>this.produceWithPatches(s,u=>e(u,...a));let n,o;return[this.produce(e,r,(s,a)=>{n=s,o=a}),n,o]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){U(t)||M(8),Y(t)&&(t=Jn(t));const e=dt(this),r=qe(t,void 0);return r[P].isManual_=!0,He(e),r}finishDraft(t,e){const r=t&&t[P];(!r||!r.isManual_)&&M(9);const{scope_:n}=r;return ft(n,e),gt(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const o=e[r];if(o.path.length===0&&o.op==="replace"){t=o.value;break}}r>-1&&(e=e.slice(r+1));const n=q("Patches").applyPatches_;return Y(t)?n(t,e):this.produce(t,o=>n(o,e))}};function qe(t,e){const r=ye(t)?q("MapSet").proxyMap_(t,e):Se(t)?q("MapSet").proxySet_(t,e):Yn(t,e);return(e?e.scope_:$t()).drafts_.push(r),r}function Jn(t){return Y(t)||M(10,t),Ht(t)}function Ht(t){if(!U(t)||Oe(t))return t;const e=t[P];let r;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=$e(t,e.scope_.immer_.useStrictShallowCopy_)}else r=$e(t,!0);return le(r,(n,o)=>{zt(r,n,Ht(o))}),e&&(e.finalized_=!1),r}var _=new Qn,ys=_.produce;_.produceWithPatches.bind(_);_.setAutoFreeze.bind(_);_.setUseStrictShallowCopy.bind(_);_.applyPatches.bind(_);_.createDraft.bind(_);_.finishDraft.bind(_);var Ut={BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1,STORYBOOK:"true"};const{useDebugValue:Zn}=ar,{useSyncExternalStoreWithSelector:eo}=$n;let pt=!1;const to=t=>t;function ro(t,e=to,r){(Ut?"production":void 0)!=="production"&&r&&!pt&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),pt=!0);const n=eo(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,r);return Zn(n),n}const vt=t=>{(Ut?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?Hn(t):t,r=(n,o)=>ro(e,n,o);return Object.assign(r,e),r},Ss=t=>t?vt(t):vt;function x(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var mt=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Ne=function(){return Math.random().toString(36).substring(7).split("").join(".")},yt={INIT:"@@redux/INIT"+Ne(),REPLACE:"@@redux/REPLACE"+Ne(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Ne()}};function no(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function qt(t,e,r){var n;if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(x(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(x(1));return r(qt)(t,e)}if(typeof t!="function")throw new Error(x(2));var o=t,i=e,s=[],a=s,u=!1;function f(){a===s&&(a=s.slice())}function d(){if(u)throw new Error(x(3));return i}function p(m){if(typeof m!="function")throw new Error(x(4));if(u)throw new Error(x(5));var O=!0;return f(),a.push(m),function(){if(O){if(u)throw new Error(x(6));O=!1,f();var D=a.indexOf(m);a.splice(D,1),s=null}}}function h(m){if(!no(m))throw new Error(x(7));if(typeof m.type>"u")throw new Error(x(8));if(u)throw new Error(x(9));try{u=!0,i=o(i,m)}finally{u=!1}for(var O=s=a,T=0;T<O.length;T++){var D=O[T];D()}return m}function l(m){if(typeof m!="function")throw new Error(x(10));o=m,h({type:yt.REPLACE})}function S(){var m,O=p;return m={subscribe:function(D){if(typeof D!="object"||D===null)throw new Error(x(11));function C(){D.next&&D.next(d())}C();var A=O(C);return{unsubscribe:A}}},m[mt]=function(){return this},m}return h({type:yt.INIT}),n={dispatch:h,subscribe:p,getState:d,replaceReducer:l},n[mt]=S,n}function v(t,e,...r){if(oo()&&e===void 0)throw new Error("invariant requires an error message argument");if(!t){let n;if(e===void 0)n=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let o=0;n=new Error(e.replace(/%s/g,function(){return r[o++]})),n.name="Invariant Violation"}throw n.framesToPop=1,n}}function oo(){return typeof process<"u"&&!0}function io(t,e,r){return e.split(".").reduce((n,o)=>n&&n[o]?n[o]:r||null,t)}function so(t,e){return t.filter(r=>r!==e)}function Bt(t){return typeof t=="object"}function ao(t,e){const r=new Map,n=i=>{r.set(i,r.has(i)?r.get(i)+1:1)};t.forEach(n),e.forEach(n);const o=[];return r.forEach((i,s)=>{i===1&&o.push(s)}),o}function co(t,e){return t.filter(r=>e.indexOf(r)>-1)}const Je="dnd-core/INIT_COORDS",De="dnd-core/BEGIN_DRAG",Ze="dnd-core/PUBLISH_DRAG_SOURCE",Ce="dnd-core/HOVER",Ee="dnd-core/DROP",Te="dnd-core/END_DRAG";function St(t,e){return{type:Je,payload:{sourceClientOffset:e||null,clientOffset:t||null}}}const uo={type:Je,payload:{clientOffset:null,sourceClientOffset:null}};function lo(t){return function(r=[],n={publishSource:!0}){const{publishSource:o=!0,clientOffset:i,getSourceClientOffset:s}=n,a=t.getMonitor(),u=t.getRegistry();t.dispatch(St(i)),fo(r,a,u);const f=po(r,a);if(f==null){t.dispatch(uo);return}let d=null;if(i){if(!s)throw new Error("getSourceClientOffset must be defined");go(s),d=s(f)}t.dispatch(St(i,d));const h=u.getSource(f).beginDrag(a,f);if(h==null)return;ho(h),u.pinSource(f);const l=u.getSourceType(f);return{type:De,payload:{itemType:l,item:h,sourceId:f,clientOffset:i||null,sourceClientOffset:d||null,isSourcePublic:!!o}}}}function fo(t,e,r){v(!e.isDragging(),"Cannot call beginDrag while dragging."),t.forEach(function(n){v(r.getSource(n),"Expected sourceIds to be registered.")})}function go(t){v(typeof t=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function ho(t){v(Bt(t),"Item must be an object.")}function po(t,e){let r=null;for(let n=t.length-1;n>=0;n--)if(e.canDragSource(t[n])){r=t[n];break}return r}function vo(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable}))),n.forEach(function(o){vo(t,o,r[o])})}return t}function yo(t){return function(r={}){const n=t.getMonitor(),o=t.getRegistry();So(n),Co(n).forEach((s,a)=>{const u=Oo(s,a,o,n),f={type:Ee,payload:{dropResult:mo({},r,u)}};t.dispatch(f)})}}function So(t){v(t.isDragging(),"Cannot call drop while not dragging."),v(!t.didDrop(),"Cannot call drop twice during one drag operation.")}function Oo(t,e,r,n){const o=r.getTarget(t);let i=o?o.drop(n,t):void 0;return Do(i),typeof i>"u"&&(i=e===0?{}:n.getDropResult()),i}function Do(t){v(typeof t>"u"||Bt(t),"Drop result must either be an object or undefined.")}function Co(t){const e=t.getTargetIds().filter(t.canDropOnTarget,t);return e.reverse(),e}function Eo(t){return function(){const r=t.getMonitor(),n=t.getRegistry();To(r);const o=r.getSourceId();return o!=null&&(n.getSource(o,!0).endDrag(r,o),n.unpinSource()),{type:Te}}}function To(t){v(t.isDragging(),"Cannot call endDrag while not dragging.")}function Be(t,e){return e===null?t===null:Array.isArray(t)?t.some(r=>r===e):t===e}function bo(t){return function(r,{clientOffset:n}={}){wo(r);const o=r.slice(0),i=t.getMonitor(),s=t.getRegistry(),a=i.getItemType();return Po(o,s,a),Io(o,i,s),_o(o,i,s),{type:Ce,payload:{targetIds:o,clientOffset:n||null}}}}function wo(t){v(Array.isArray(t),"Expected targetIds to be an array.")}function Io(t,e,r){v(e.isDragging(),"Cannot call hover while not dragging."),v(!e.didDrop(),"Cannot call hover after drop.");for(let n=0;n<t.length;n++){const o=t[n];v(t.lastIndexOf(o)===n,"Expected targetIds to be unique in the passed array.");const i=r.getTarget(o);v(i,"Expected targetIds to be registered.")}}function Po(t,e,r){for(let n=t.length-1;n>=0;n--){const o=t[n],i=e.getTargetType(o);Be(i,r)||t.splice(n,1)}}function _o(t,e,r){t.forEach(function(n){r.getTarget(n).hover(e,n)})}function xo(t){return function(){if(t.getMonitor().isDragging())return{type:Ze}}}function Ro(t){return{beginDrag:lo(t),publishDragSource:xo(t),hover:bo(t),drop:yo(t),endDrag:Eo(t)}}class No{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const e=this,{dispatch:r}=this.store;function n(i){return(...s)=>{const a=i.apply(e,s);typeof a<"u"&&r(a)}}const o=Ro(this);return Object.keys(o).reduce((i,s)=>{const a=o[s];return i[s]=n(a),i},{})}dispatch(e){this.store.dispatch(e)}constructor(e,r){this.isSetUp=!1,this.handleRefCountChange=()=>{const n=this.store.getState().refCount>0;this.backend&&(n&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!n&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=r,e.subscribe(this.handleRefCountChange)}}function Mo(t,e){return{x:t.x+e.x,y:t.y+e.y}}function Vt(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Ao(t){const{clientOffset:e,initialClientOffset:r,initialSourceClientOffset:n}=t;return!e||!r||!n?null:Vt(Mo(e,n),r)}function Lo(t){const{clientOffset:e,initialClientOffset:r}=t;return!e||!r?null:Vt(e,r)}const Z=[],et=[];Z.__IS_NONE__=!0;et.__IS_ALL__=!0;function jo(t,e){return t===Z?!1:t===et||typeof e>"u"?!0:co(e,t).length>0}class ko{subscribeToStateChange(e,r={}){const{handlerIds:n}=r;v(typeof e=="function","listener must be a function."),v(typeof n>"u"||Array.isArray(n),"handlerIds, when specified, must be an array of strings.");let o=this.store.getState().stateId;const i=()=>{const s=this.store.getState(),a=s.stateId;try{a===o||a===o+1&&!jo(s.dirtyHandlerIds,n)||e()}finally{o=a}};return this.store.subscribe(i)}subscribeToOffsetChange(e){v(typeof e=="function","listener must be a function.");let r=this.store.getState().dragOffset;const n=()=>{const o=this.store.getState().dragOffset;o!==r&&(r=o,e())};return this.store.subscribe(n)}canDragSource(e){if(!e)return!1;const r=this.registry.getSource(e);return v(r,`Expected to find a valid source. sourceId=${e}`),this.isDragging()?!1:r.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;const r=this.registry.getTarget(e);if(v(r,`Expected to find a valid target. targetId=${e}`),!this.isDragging()||this.didDrop())return!1;const n=this.registry.getTargetType(e),o=this.getItemType();return Be(n,o)&&r.canDrop(this,e)}isDragging(){return!!this.getItemType()}isDraggingSource(e){if(!e)return!1;const r=this.registry.getSource(e,!0);if(v(r,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()||!this.isSourcePublic())return!1;const n=this.registry.getSourceType(e),o=this.getItemType();return n!==o?!1:r.isDragging(this,e)}isOverTarget(e,r={shallow:!1}){if(!e)return!1;const{shallow:n}=r;if(!this.isDragging())return!1;const o=this.registry.getTargetType(e),i=this.getItemType();if(i&&!Be(o,i))return!1;const s=this.getTargetIds();if(!s.length)return!1;const a=s.indexOf(e);return n?a===s.length-1:a>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return Ao(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return Lo(this.store.getState().dragOffset)}constructor(e,r){this.store=e,this.registry=r}}const Ot=typeof global<"u"?global:self,Gt=Ot.MutationObserver||Ot.WebKitMutationObserver;function Wt(t){return function(){const r=setTimeout(o,0),n=setInterval(o,50);function o(){clearTimeout(r),clearInterval(n),t()}}}function zo(t){let e=1;const r=new Gt(t),n=document.createTextNode("");return r.observe(n,{characterData:!0}),function(){e=-e,n.data=e}}const $o=typeof Gt=="function"?zo:Wt;class Fo{enqueueTask(e){const{queue:r,requestFlush:n}=this;r.length||(n(),this.flushing=!0),r[r.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const r=this.index;if(this.index++,e[r].call(),this.index>this.capacity){for(let n=0,o=e.length-this.index;n<o;n++)e[n]=e[n+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=$o(this.flush),this.requestErrorThrow=Wt(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class Ho{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,r){this.onError=e,this.release=r,this.task=null}}class Uo{create(e){const r=this.freeTasks,n=r.length?r.pop():new Ho(this.onError,o=>r[r.length]=o);return n.task=e,n}constructor(e){this.onError=e,this.freeTasks=[]}}const Xt=new Fo,qo=new Uo(Xt.registerPendingError);function Bo(t){Xt.enqueueTask(qo.create(t))}const tt="dnd-core/ADD_SOURCE",rt="dnd-core/ADD_TARGET",nt="dnd-core/REMOVE_SOURCE",be="dnd-core/REMOVE_TARGET";function Vo(t){return{type:tt,payload:{sourceId:t}}}function Go(t){return{type:rt,payload:{targetId:t}}}function Wo(t){return{type:nt,payload:{sourceId:t}}}function Xo(t){return{type:be,payload:{targetId:t}}}function Yo(t){v(typeof t.canDrag=="function","Expected canDrag to be a function."),v(typeof t.beginDrag=="function","Expected beginDrag to be a function."),v(typeof t.endDrag=="function","Expected endDrag to be a function.")}function Ko(t){v(typeof t.canDrop=="function","Expected canDrop to be a function."),v(typeof t.hover=="function","Expected hover to be a function."),v(typeof t.drop=="function","Expected beginDrag to be a function.")}function Ve(t,e){if(e&&Array.isArray(t)){t.forEach(r=>Ve(r,!1));return}v(typeof t=="string"||typeof t=="symbol",e?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var R;(function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"})(R||(R={}));let Qo=0;function Jo(){return Qo++}function Zo(t){const e=Jo().toString();switch(t){case R.SOURCE:return`S${e}`;case R.TARGET:return`T${e}`;default:throw new Error(`Unknown Handler Role: ${t}`)}}function Dt(t){switch(t[0]){case"S":return R.SOURCE;case"T":return R.TARGET;default:throw new Error(`Cannot parse handler ID: ${t}`)}}function Ct(t,e){const r=t.entries();let n=!1;do{const{done:o,value:[,i]}=r.next();if(i===e)return!0;n=!!o}while(!n);return!1}class ei{addSource(e,r){Ve(e),Yo(r);const n=this.addHandler(R.SOURCE,e,r);return this.store.dispatch(Vo(n)),n}addTarget(e,r){Ve(e,!0),Ko(r);const n=this.addHandler(R.TARGET,e,r);return this.store.dispatch(Go(n)),n}containsHandler(e){return Ct(this.dragSources,e)||Ct(this.dropTargets,e)}getSource(e,r=!1){return v(this.isSourceId(e),"Expected a valid source ID."),r&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return v(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return v(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return v(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return Dt(e)===R.SOURCE}isTargetId(e){return Dt(e)===R.TARGET}removeSource(e){v(this.getSource(e),"Expected an existing source."),this.store.dispatch(Wo(e)),Bo(()=>{this.dragSources.delete(e),this.types.delete(e)})}removeTarget(e){v(this.getTarget(e),"Expected an existing target."),this.store.dispatch(Xo(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){const r=this.getSource(e);v(r,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=r}unpinSource(){v(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,r,n){const o=Zo(e);return this.types.set(o,r),e===R.SOURCE?this.dragSources.set(o,n):e===R.TARGET&&this.dropTargets.set(o,n),o}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}const ti=(t,e)=>t===e;function ri(t,e){return!t&&!e?!0:!t||!e?!1:t.x===e.x&&t.y===e.y}function ni(t,e,r=ti){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!r(t[n],e[n]))return!1;return!0}function oi(t=Z,e){switch(e.type){case Ce:break;case tt:case rt:case be:case nt:return Z;case De:case Ze:case Te:case Ee:default:return et}const{targetIds:r=[],prevTargetIds:n=[]}=e.payload,o=ao(r,n);if(!(o.length>0||!ni(r,n)))return Z;const s=n[n.length-1],a=r[r.length-1];return s!==a&&(s&&o.push(s),a&&o.push(a)),o}function ii(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function si(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable}))),n.forEach(function(o){ii(t,o,r[o])})}return t}const Et={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function ai(t=Et,e){const{payload:r}=e;switch(e.type){case Je:case De:return{initialSourceClientOffset:r.sourceClientOffset,initialClientOffset:r.clientOffset,clientOffset:r.clientOffset};case Ce:return ri(t.clientOffset,r.clientOffset)?t:si({},t,{clientOffset:r.clientOffset});case Te:case Ee:return Et;default:return t}}function ci(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function G(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable}))),n.forEach(function(o){ci(t,o,r[o])})}return t}const ui={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function li(t=ui,e){const{payload:r}=e;switch(e.type){case De:return G({},t,{itemType:r.itemType,item:r.item,sourceId:r.sourceId,isSourcePublic:r.isSourcePublic,dropResult:null,didDrop:!1});case Ze:return G({},t,{isSourcePublic:!0});case Ce:return G({},t,{targetIds:r.targetIds});case be:return t.targetIds.indexOf(r.targetId)===-1?t:G({},t,{targetIds:so(t.targetIds,r.targetId)});case Ee:return G({},t,{dropResult:r.dropResult,didDrop:!0,targetIds:[]});case Te:return G({},t,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return t}}function fi(t=0,e){switch(e.type){case tt:case rt:return t+1;case nt:case be:return t-1;default:return t}}function di(t=0){return t+1}function gi(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable}))),n.forEach(function(o){gi(t,o,r[o])})}return t}function pi(t={},e){return{dirtyHandlerIds:oi(t.dirtyHandlerIds,{type:e.type,payload:hi({},e.payload,{prevTargetIds:io(t,"dragOperation.targetIds",[])})}),dragOffset:ai(t.dragOffset,e),refCount:fi(t.refCount,e),dragOperation:li(t.dragOperation,e),stateId:di(t.stateId)}}function vi(t,e=void 0,r={},n=!1){const o=mi(n),i=new ko(o,new ei(o)),s=new No(o,i),a=t(s,e,r);return s.receiveBackend(a),s}function mi(t){const e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return qt(pi,t&&e&&e({name:"dnd-core",instanceId:"dnd-core"}))}function Yt(t){let e=null;return()=>(e==null&&(e=t()),e)}function yi(t,e){return t.filter(r=>r!==e)}function Si(t,e){const r=new Set,n=i=>r.add(i);t.forEach(n),e.forEach(n);const o=[];return r.forEach(i=>o.push(i)),o}class Oi{enter(e){const r=this.entered.length,n=o=>this.isNodeInDocument(o)&&(!o.contains||o.contains(e));return this.entered=Si(this.entered.filter(n),[e]),r===0&&this.entered.length>0}leave(e){const r=this.entered.length;return this.entered=yi(this.entered.filter(this.isNodeInDocument),e),r>0&&this.entered.length===0}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}class Di{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null}})})}loadDataTransfer(e){if(e){const r={};Object.keys(this.config.exposeProperties).forEach(n=>{const o=this.config.exposeProperties[n];o!=null&&(r[n]={value:o(e,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,r)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,r){return r===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}const Kt="__NATIVE_FILE__",Qt="__NATIVE_URL__",Jt="__NATIVE_TEXT__",Zt="__NATIVE_HTML__",Tt=Object.freeze(Object.defineProperty({__proto__:null,FILE:Kt,HTML:Zt,TEXT:Jt,URL:Qt},Symbol.toStringTag,{value:"Module"}));function Me(t,e,r){const n=e.reduce((o,i)=>o||t.getData(i),"");return n??r}const Ge={[Kt]:{exposeProperties:{files:t=>Array.prototype.slice.call(t.files),items:t=>t.items,dataTransfer:t=>t},matchesTypes:["Files"]},[Zt]:{exposeProperties:{html:(t,e)=>Me(t,e,""),dataTransfer:t=>t},matchesTypes:["Html","text/html"]},[Qt]:{exposeProperties:{urls:(t,e)=>Me(t,e,"").split(`
`),dataTransfer:t=>t},matchesTypes:["Url","text/uri-list"]},[Jt]:{exposeProperties:{text:(t,e)=>Me(t,e,""),dataTransfer:t=>t},matchesTypes:["Text","text/plain"]}};function Ci(t,e){const r=Ge[t];if(!r)throw new Error(`native type ${t} has no configuration`);const n=new Di(r);return n.loadDataTransfer(e),n}function Ae(t){if(!t)return null;const e=Array.prototype.slice.call(t.types||[]);return Object.keys(Ge).filter(r=>{const n=Ge[r];return n!=null&&n.matchesTypes?n.matchesTypes.some(o=>e.indexOf(o)>-1):!1})[0]||null}const Ei=Yt(()=>/firefox/i.test(navigator.userAgent)),er=Yt(()=>!!window.safari);class bt{interpolate(e){const{xs:r,ys:n,c1s:o,c2s:i,c3s:s}=this;let a=r.length-1;if(e===r[a])return n[a];let u=0,f=s.length-1,d;for(;u<=f;){d=Math.floor(.5*(u+f));const l=r[d];if(l<e)u=d+1;else if(l>e)f=d-1;else return n[d]}a=Math.max(0,f);const p=e-r[a],h=p*p;return n[a]+o[a]*p+i[a]*h+s[a]*p*h}constructor(e,r){const{length:n}=e,o=[];for(let l=0;l<n;l++)o.push(l);o.sort((l,S)=>e[l]<e[S]?-1:1);const i=[],s=[];let a,u;for(let l=0;l<n-1;l++)a=e[l+1]-e[l],u=r[l+1]-r[l],i.push(a),s.push(u/a);const f=[s[0]];for(let l=0;l<i.length-1;l++){const S=s[l],m=s[l+1];if(S*m<=0)f.push(0);else{a=i[l];const O=i[l+1],T=a+O;f.push(3*T/((T+O)/S+(T+a)/m))}}f.push(s[s.length-1]);const d=[],p=[];let h;for(let l=0;l<f.length-1;l++){h=s[l];const S=f[l],m=1/i[l],O=S+f[l+1]-h-h;d.push((h-S-O)*m),p.push(O*m*m)}this.xs=e,this.ys=r,this.c1s=f,this.c2s=d,this.c3s=p}}const Ti=1;function tr(t){const e=t.nodeType===Ti?t:t.parentElement;if(!e)return null;const{top:r,left:n}=e.getBoundingClientRect();return{x:n,y:r}}function ae(t){return{x:t.clientX,y:t.clientY}}function bi(t){var e;return t.nodeName==="IMG"&&(Ei()||!(!((e=document.documentElement)===null||e===void 0)&&e.contains(t)))}function wi(t,e,r,n){let o=t?e.width:r,i=t?e.height:n;return er()&&t&&(i/=window.devicePixelRatio,o/=window.devicePixelRatio),{dragPreviewWidth:o,dragPreviewHeight:i}}function Ii(t,e,r,n,o){const i=bi(e),a=tr(i?t:e),u={x:r.x-a.x,y:r.y-a.y},{offsetWidth:f,offsetHeight:d}=t,{anchorX:p,anchorY:h}=n,{dragPreviewWidth:l,dragPreviewHeight:S}=wi(i,e,f,d),m=()=>{let w=new bt([0,.5,1],[u.y,u.y/d*S,u.y+S-d]).interpolate(h);return er()&&i&&(w+=(window.devicePixelRatio-1)*S),w},O=()=>new bt([0,.5,1],[u.x,u.x/f*l,u.x+l-f]).interpolate(p),{offsetX:T,offsetY:D}=o,C=T===0||T,A=D===0||D;return{x:C?T:O(),y:A?D:m()}}class Pi{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var e;return!((e=this.globalContext)===null||e===void 0)&&e.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return((e=this.optionsArgs)===null||e===void 0?void 0:e.rootElement)||this.window}constructor(e,r){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=r}}function _i(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable}))),n.forEach(function(o){_i(t,o,r[o])})}return t}class xi{profile(){var e,r;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((e=this.dragStartSourceIds)===null||e===void 0?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((r=this.dragOverTargetIds)===null||r===void 0?void 0:r.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const e=this.rootElement;if(e!==void 0){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){const e=this.rootElement;if(e!==void 0&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var r;(r=this.window)===null||r===void 0||r.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(e,r,n){return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,r),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,r,n){this.sourceNodes.set(e,r),this.sourceNodeOptions.set(e,n);const o=s=>this.handleDragStart(s,e),i=s=>this.handleSelectStart(s);return r.setAttribute("draggable","true"),r.addEventListener("dragstart",o),r.addEventListener("selectstart",i),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),r.removeEventListener("dragstart",o),r.removeEventListener("selectstart",i),r.setAttribute("draggable","false")}}connectDropTarget(e,r){const n=s=>this.handleDragEnter(s,e),o=s=>this.handleDragOver(s,e),i=s=>this.handleDrop(s,e);return r.addEventListener("dragenter",n),r.addEventListener("dragover",o),r.addEventListener("drop",i),()=>{r.removeEventListener("dragenter",n),r.removeEventListener("dragover",o),r.removeEventListener("drop",i)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const e=this.monitor.getSourceId(),r=this.sourceNodeOptions.get(e);return wt({dropEffect:this.altKeyPressed?"copy":"move"},r||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const e=this.monitor.getSourceId(),r=this.sourcePreviewNodeOptions.get(e);return wt({anchorX:.5,anchorY:.5,captureDraggingState:!1},r||{})}isDraggingNativeItem(){const e=this.monitor.getItemType();return Object.keys(Tt).some(r=>Tt[r]===e)}beginDragNativeItem(e,r){this.clearCurrentDragSourceNode(),this.currentNativeSource=Ci(e,r),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;const r=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var n;return(n=this.rootElement)===null||n===void 0?void 0:n.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},r)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var e;(e=this.window)===null||e===void 0||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,r){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(r))}handleDragEnter(e,r){this.dragEnterTargetIds.unshift(r)}handleDragOver(e,r){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(r)}handleDrop(e,r){this.dropTargetIds.unshift(r)}constructor(e,r,n){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=o=>{const i=this.sourceNodes.get(o);return i&&tr(i)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=o=>!!(o&&this.document&&this.document.body&&this.document.body.contains(o)),this.endDragIfSourceWasRemovedFromDOM=()=>{const o=this.currentDragSourceNode;o==null||this.isNodeInDocument(o)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=o=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(o||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=o=>{if(o.defaultPrevented)return;const{dragStartSourceIds:i}=this;this.dragStartSourceIds=null;const s=ae(o);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(i||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:s});const{dataTransfer:a}=o,u=Ae(a);if(this.monitor.isDragging()){if(a&&typeof a.setDragImage=="function"){const d=this.monitor.getSourceId(),p=this.sourceNodes.get(d),h=this.sourcePreviewNodes.get(d)||p;if(h){const{anchorX:l,anchorY:S,offsetX:m,offsetY:O}=this.getCurrentSourcePreviewNodeOptions(),C=Ii(p,h,s,{anchorX:l,anchorY:S},{offsetX:m,offsetY:O});a.setDragImage(h,C.x,C.y)}}try{a==null||a.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(o.target);const{captureDraggingState:f}=this.getCurrentSourcePreviewNodeOptions();f?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(u)this.beginDragNativeItem(u);else{if(a&&!a.types&&(o.target&&!o.target.hasAttribute||!o.target.hasAttribute("draggable")))return;o.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=o=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var i;(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(o.dataTransfer)}if(!this.enterLeaveCounter.enter(o.target)||this.monitor.isDragging())return;const{dataTransfer:a}=o,u=Ae(a);u&&this.beginDragNativeItem(u,a)},this.handleTopDragEnter=o=>{const{dragEnterTargetIds:i}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=o.altKey,i.length>0&&this.actions.hover(i,{clientOffset:ae(o)}),i.some(a=>this.monitor.canDropOnTarget(a))&&(o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=o=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var i;(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(o.dataTransfer)}},this.handleTopDragOver=o=>{const{dragOverTargetIds:i}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect="none");return}this.altKeyPressed=o.altKey,this.lastClientOffset=ae(o),this.scheduleHover(i),(i||[]).some(a=>this.monitor.canDropOnTarget(a))?(o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?o.preventDefault():(o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=o=>{this.isDraggingNativeItem()&&o.preventDefault(),this.enterLeaveCounter.leave(o.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=o=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var i;o.preventDefault(),(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(o.dataTransfer)}else Ae(o.dataTransfer)&&o.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=o=>{const{dropTargetIds:i}=this;this.dropTargetIds=[],this.actions.hover(i,{clientOffset:ae(o)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=o=>{const i=o.target;typeof i.dragDrop=="function"&&(i.tagName==="INPUT"||i.tagName==="SELECT"||i.tagName==="TEXTAREA"||i.isContentEditable||(o.preventDefault(),i.dragDrop()))},this.options=new Pi(r,n),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new Oi(this.isNodeInDocument)}}const Os=function(e,r,n){return new xi(e,r,n)},rr=c.createContext({dragDropManager:void 0});function Ri(t,e){if(t==null)return{};var r=Ni(t,e),n,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(o=0;o<i.length;o++)n=i[o],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ni(t,e){if(t==null)return{};var r={},n=Object.keys(t),o,i;for(i=0;i<n.length;i++)o=n[i],!(e.indexOf(o)>=0)&&(r[o]=t[o]);return r}let It=0;const ce=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var Ds=c.memo(function(e){var{children:r}=e,n=Ri(e,["children"]);const[o,i]=Mi(n);return c.useEffect(()=>{if(i){const s=nr();return++It,()=>{--It===0&&(s[ce]=null)}}},[]),Er.jsx(rr.Provider,{value:o,children:r})});function Mi(t){if("manager"in t)return[{dragDropManager:t.manager},!1];const e=Ai(t.backend,t.context,t.options,t.debugMode),r=!t.context;return[e,r]}function Ai(t,e=nr(),r,n){const o=e;return o[ce]||(o[ce]={dragDropManager:vi(t,e,r,n)}),o[ce]}function nr(){return typeof global<"u"?global:window}var Li=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,o,i;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(o=n;o--!==0;)if(!t(e[o],r[o]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(r).length)return!1;for(o=n;o--!==0;)if(!Object.prototype.hasOwnProperty.call(r,i[o]))return!1;for(o=n;o--!==0;){var s=i[o];if(!t(e[s],r[s]))return!1}return!0}return e!==e&&r!==r};const ji=Ye(Li),B=typeof window<"u"?c.useLayoutEffect:c.useEffect;function ki(t,e,r){const[n,o]=c.useState(()=>e(t)),i=c.useCallback(()=>{const s=e(t);ji(n,s)||(o(s),r&&r())},[n,t,r]);return B(i),[n,i]}function zi(t,e,r){const[n,o]=ki(t,e,r);return B(function(){const s=t.getHandlerId();if(s!=null)return t.subscribeToStateChange(o,{handlerIds:[s]})},[t,o]),n}function or(t,e,r){return zi(e,t||(()=>({})),()=>r.reconnect())}function ir(t,e){const r=[...e||[]];return e==null&&typeof t!="function"&&r.push(t),c.useMemo(()=>typeof t=="function"?t():t,r)}function $i(t){return c.useMemo(()=>t.hooks.dragSource(),[t])}function Fi(t){return c.useMemo(()=>t.hooks.dragPreview(),[t])}let Le=!1,je=!1;class Hi{receiveHandlerId(e){this.sourceId=e}getHandlerId(){return this.sourceId}canDrag(){v(!Le,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Le=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{Le=!1}}isDragging(){if(!this.sourceId)return!1;v(!je,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return je=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{je=!1}}subscribeToStateChange(e,r){return this.internalMonitor.subscribeToStateChange(e,r)}isDraggingSource(e){return this.internalMonitor.isDraggingSource(e)}isOverTarget(e,r){return this.internalMonitor.isOverTarget(e,r)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(e){return this.internalMonitor.subscribeToOffsetChange(e)}canDragSource(e){return this.internalMonitor.canDragSource(e)}canDropOnTarget(e){return this.internalMonitor.canDropOnTarget(e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}}let ke=!1;class Ui{receiveHandlerId(e){this.targetId=e}getHandlerId(){return this.targetId}subscribeToStateChange(e,r){return this.internalMonitor.subscribeToStateChange(e,r)}canDrop(){if(!this.targetId)return!1;v(!ke,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return ke=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{ke=!1}}isOver(e){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,e):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.targetId=null,this.internalMonitor=e.getMonitor()}}function qi(t,e,r){const n=r.getRegistry(),o=n.addTarget(t,e);return[o,()=>n.removeTarget(o)]}function Bi(t,e,r){const n=r.getRegistry(),o=n.addSource(t,e);return[o,()=>n.removeSource(o)]}function We(t,e,r,n){let o=r?r.call(n,t,e):void 0;if(o!==void 0)return!!o;if(t===e)return!0;if(typeof t!="object"||!t||typeof e!="object"||!e)return!1;const i=Object.keys(t),s=Object.keys(e);if(i.length!==s.length)return!1;const a=Object.prototype.hasOwnProperty.bind(e);for(let u=0;u<i.length;u++){const f=i[u];if(!a(f))return!1;const d=t[f],p=e[f];if(o=r?r.call(n,d,p,f):void 0,o===!1||o===void 0&&d!==p)return!1}return!0}function Xe(t){return t!==null&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Vi(t){if(typeof t.type=="string")return;const e=t.type.displayName||t.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${e} into a <div>, or turn it into a drag source or a drop target itself.`)}function Gi(t){return(e=null,r=null)=>{if(!c.isValidElement(e)){const i=e;return t(i,r),i}const n=e;return Vi(n),Wi(n,r?i=>t(i,r):t)}}function sr(t){const e={};return Object.keys(t).forEach(r=>{const n=t[r];if(r.endsWith("Ref"))e[r]=t[r];else{const o=Gi(n);e[r]=()=>o}}),e}function Pt(t,e){typeof t=="function"?t(e):t.current=e}function Wi(t,e){const r=t.ref;return v(typeof r!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),r?c.cloneElement(t,{ref:n=>{Pt(r,n),Pt(e,n)}}):c.cloneElement(t,{ref:e})}class Xi{receiveHandlerId(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(e){this.dragSourceOptionsInternal=e}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(e){this.dragPreviewOptionsInternal=e}reconnect(){const e=this.reconnectDragSource();this.reconnectDragPreview(e)}reconnectDragSource(){const e=this.dragSource,r=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return r&&this.disconnectDragSource(),this.handlerId?e?(r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)),r):(this.lastConnectedDragSource=e,r):r}reconnectDragPreview(e=!1){const r=this.dragPreview,n=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(n&&this.disconnectDragPreview(),!!this.handlerId){if(!r){this.lastConnectedDragPreview=r;return}n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=r,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,r,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!We(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!We(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(e){this.hooks=sr({dragSource:(r,n)=>{this.clearDragSource(),this.dragSourceOptions=n||null,Xe(r)?this.dragSourceRef=r:this.dragSourceNode=r,this.reconnectDragSource()},dragPreview:(r,n)=>{this.clearDragPreview(),this.dragPreviewOptions=n||null,Xe(r)?this.dragPreviewRef=r:this.dragPreviewNode=r,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=e}}class Yi{get connectTarget(){return this.dropTarget}reconnect(){const e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();const r=this.dropTarget;if(this.handlerId){if(!r){this.lastConnectedDropTarget=r;return}e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=r,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,r,this.dropTargetOptions))}}receiveHandlerId(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(e){this.dropTargetOptionsInternal=e}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!We(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(e){this.hooks=sr({dropTarget:(r,n)=>{this.clearDropTarget(),this.dropTargetOptions=n,Xe(r)?this.dropTargetRef=r:this.dropTargetNode=r,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=e}}function Q(){const{dragDropManager:t}=c.useContext(rr);return v(t!=null,"Expected drag drop context"),t}function Ki(t,e){const r=Q(),n=c.useMemo(()=>new Xi(r.getBackend()),[r]);return B(()=>(n.dragSourceOptions=t||null,n.reconnect(),()=>n.disconnectDragSource()),[n,t]),B(()=>(n.dragPreviewOptions=e||null,n.reconnect(),()=>n.disconnectDragPreview()),[n,e]),n}function Qi(){const t=Q();return c.useMemo(()=>new Hi(t),[t])}class Ji{beginDrag(){const e=this.spec,r=this.monitor;let n=null;return typeof e.item=="object"?n=e.item:typeof e.item=="function"?n=e.item(r):n={},n??null}canDrag(){const e=this.spec,r=this.monitor;return typeof e.canDrag=="boolean"?e.canDrag:typeof e.canDrag=="function"?e.canDrag(r):!0}isDragging(e,r){const n=this.spec,o=this.monitor,{isDragging:i}=n;return i?i(o):r===e.getSourceId()}endDrag(){const e=this.spec,r=this.monitor,n=this.connector,{end:o}=e;o&&o(r.getItem(),r),n.reconnect()}constructor(e,r,n){this.spec=e,this.monitor=r,this.connector=n}}function Zi(t,e,r){const n=c.useMemo(()=>new Ji(t,e,r),[e,r]);return c.useEffect(()=>{n.spec=t},[t]),n}function es(t){return c.useMemo(()=>{const e=t.type;return v(e!=null,"spec.type must be defined"),e},[t])}function ts(t,e,r){const n=Q(),o=Zi(t,e,r),i=es(t);B(function(){if(i!=null){const[a,u]=Bi(i,o,n);return e.receiveHandlerId(a),r.receiveHandlerId(a),u}},[n,e,r,o,i])}function Cs(t,e){const r=ir(t,e);v(!r.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const n=Qi(),o=Ki(r.options,r.previewOptions);return ts(r,n,o),[or(r.collect,n,o),$i(o),Fi(o)]}function rs(t){return c.useMemo(()=>t.hooks.dropTarget(),[t])}function ns(t){const e=Q(),r=c.useMemo(()=>new Yi(e.getBackend()),[e]);return B(()=>(r.dropTargetOptions=t||null,r.reconnect(),()=>r.disconnectDropTarget()),[t]),r}function os(){const t=Q();return c.useMemo(()=>new Ui(t),[t])}function is(t){const{accept:e}=t;return c.useMemo(()=>(v(t.accept!=null,"accept must be defined"),Array.isArray(e)?e:[e]),[e])}class ss{canDrop(){const e=this.spec,r=this.monitor;return e.canDrop?e.canDrop(r.getItem(),r):!0}hover(){const e=this.spec,r=this.monitor;e.hover&&e.hover(r.getItem(),r)}drop(){const e=this.spec,r=this.monitor;if(e.drop)return e.drop(r.getItem(),r)}constructor(e,r){this.spec=e,this.monitor=r}}function as(t,e){const r=c.useMemo(()=>new ss(t,e),[e]);return c.useEffect(()=>{r.spec=t},[t]),r}function cs(t,e,r){const n=Q(),o=as(t,e),i=is(t);B(function(){const[a,u]=qi(i,o,n);return e.receiveHandlerId(a),r.receiveHandlerId(a),u},[n,e,o,r,i.map(s=>s.toString()).join("|")])}function Es(t,e){const r=ir(t,e),n=os(),o=ns(r.options);return cs(r,n,o),[or(r.collect,n,o),rs(o)]}export{hs as A,Ds as D,gs as E,Os as H,vs as I,ps as P,Fr as S,Ss as a,Cs as b,vi as c,ji as d,ms as e,$n as f,Hn as g,Ar as h,ys as p,Es as u};
