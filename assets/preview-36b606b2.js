import{a as C,j as f,C as M,e as w,b as I}from"./dt-f3f82f8e.js";import{r as m}from"./index-32a56c20.js";import{s as N}from"./index-d475d2ea.js";import{t as k}from"./chunk-4NMOSTKD-052c8761.js";import"./_commonjsHelpers-042e6b4d.js";import"./v4-a960c1f4.js";import"./extends-b84940d4.js";const d=({theme:{mode:e,...r}={},prefixCls:t,children:a})=>{const n=m.useMemo(()=>{switch(e){case"dark":return C.darkAlgorithm;case"light":default:return C.defaultAlgorithm}},[e]);return f(M,{prefixCls:t,theme:{...r,algorithm:n},children:a})};try{d.displayName="JdmConfigProvider",d.__docgenInfo={description:"",displayName:"JdmConfigProvider",props:{theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"ThemeConfig"}},prefixCls:{defaultValue:null,description:"",name:"prefixCls",required:!1,type:{name:"string"}}}}}catch{}var A="DARK_MODE";function o(e){"@babel/helpers - typeof";return o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},o(e)}var u;function D(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,a)}return t}function E(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?D(Object(t),!0).forEach(function(a){x(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):D(Object(t)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}function x(e,r,t){return r=K(r),r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function K(e){var r=R(e,"string");return o(r)==="symbol"?r:String(r)}function R(e,r){if(o(e)!=="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var a=t.call(e,r||"default");if(o(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function i(e){return U(e)||L(e)||q(e)||J()}function J(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q(e,r){if(e){if(typeof e=="string")return p(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return p(e,r)}}function L(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function U(e){if(Array.isArray(e))return p(e)}function p(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,a=new Array(r);t<r;t++)a[t]=e[t];return a}__STORYBOOK_MODULE_CORE_EVENTS__;var T=N,V=T.document,l=T.window,j="sb-addon-themes-3";(u=l.matchMedia)===null||u===void 0||u.call(l,"(prefers-color-scheme: dark)");var y={classTarget:"body",dark:k.dark,darkClass:["dark"],light:k.light,lightClass:["light"],stylePreview:!1,userHasExplicitlySetTheTheme:!1},P=function(r){l.localStorage.setItem(j,JSON.stringify(r))},Y=function(r,t){var a=t.current,n=t.darkClass,g=n===void 0?y.darkClass:n,h=t.lightClass,v=h===void 0?y.lightClass:h;if(a==="dark"){var _,b;(_=r.classList).remove.apply(_,i(s(v))),(b=r.classList).add.apply(b,i(s(g)))}else{var O,S;(O=r.classList).remove.apply(O,i(s(g))),(S=r.classList).add.apply(S,i(s(v)))}},s=function(r){var t=[];return t.concat(r).map(function(a){return a})},B=function(r){var t=V.querySelector(r.classTarget);t&&Y(t,r)},H=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=l.localStorage.getItem(j);if(typeof t=="string"){var a=JSON.parse(t);return r&&(r.dark&&!w(a.dark,r.dark)&&(a.dark=r.dark,P(a)),r.light&&!w(a.light,r.light)&&(a.light=r.light,P(a))),a}return E(E({},y),r)};B(H());__STORYBOOK_MODULE_ADDONS__;const{addons:$}=__STORYBOOK_MODULE_ADDONS__,rr={actions:{argTypesRegex:"^on[A-Z].*"},parameters:{controls:{expanded:!0}},controls:{matchers:{color:/(background|color)$/i,date:/Date$/}}},c=$.getChannel(),er={decorators:[e=>{const[r,t]=m.useState(!0);return m.useEffect(()=>(c.on(A,t),()=>c.off(A,t)),[c,t]),I(d,{theme:{mode:r?"dark":"light"},children:[f("style",{dangerouslySetInnerHTML:{__html:`html { background-color: ${r?"#1f1f1f":"white"} }`}}),f(e,{})]})}]};export{er as default,rr as parameters};
//# sourceMappingURL=preview-36b606b2.js.map
